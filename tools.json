[
  {
    "name": "search_imas",
    "title": null,
    "description": "\n        Find IMAS data paths using semantic and lexical search capabilities.\n\n        Primary discovery tool for locating specific measurements, physics quantities,\n        or diagnostic data within the IMAS data dictionary. Returns ranked results\n        with physics context and documentation.\n\n        Args:\n            query: Search term, physics concept, measurement name, or data path pattern\n            ids_filter: Limit search to specific IDS (e.g., ['equilibrium', 'transport'])\n            max_results: Maximum number of hits to return (summary contains all matches)\n            search_mode: Search strategy - \"auto\", \"semantic\", \"lexical\", or \"hybrid\"\n            output_mode: Output format - \"full\" or \"compact\"\n            context: FastMCP context for LLM sampling enhancement\n\n        Returns:\n            SearchResult with ranked data paths, documentation, and physics insights\n        ",
    "inputSchema": {
      "$defs": {
        "SearchMode": {
          "description": "Enumeration of available search modes. Following search strategies are supported:\n- semantic: AI-powered semantic search using sentence transformers\n- lexical: Traditional full-text search using SQLite FTS5\n- hybrid: Combination of semantic and lexical search\n- auto: Automatically choose best mode based on query\nTo perform a full search use hybrid mode and increase Max Results to get all relevant results.",
          "enum": [
            "semantic",
            "lexical",
            "hybrid",
            "auto"
          ],
          "title": "SearchMode",
          "type": "string"
        }
      },
      "properties": {
        "query": {
          "title": "Query",
          "type": "string"
        },
        "ids_filter": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Ids Filter"
        },
        "max_results": {
          "default": 4,
          "title": "Max Results",
          "type": "integer"
        },
        "search_mode": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/SearchMode"
            }
          ],
          "default": "auto",
          "title": "Search Mode"
        },
        "output_mode": {
          "default": "full",
          "title": "Output Mode",
          "type": "string"
        }
      },
      "required": [
        "query"
      ],
      "type": "object"
    },
    "outputSchema": {
      "$defs": {
        "ConceptSuggestion": {
          "description": "A concept suggestion.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Description"
            }
          },
          "required": [
            "concept"
          ],
          "title": "ConceptSuggestion",
          "type": "object"
        },
        "IdentifierOption": {
          "description": "Single identifier enumeration option.",
          "properties": {
            "name": {
              "title": "Name",
              "type": "string"
            },
            "index": {
              "title": "Index",
              "type": "integer"
            },
            "description": {
              "title": "Description",
              "type": "string"
            }
          },
          "required": [
            "name",
            "index",
            "description"
          ],
          "title": "IdentifierOption",
          "type": "object"
        },
        "IdentifierSchema": {
          "description": "Complete identifier schema from XML file.",
          "properties": {
            "schema_path": {
              "title": "Schema Path",
              "type": "string"
            },
            "documentation": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Documentation"
            },
            "options": {
              "items": {
                "$ref": "#/$defs/IdentifierOption"
              },
              "title": "Options",
              "type": "array"
            },
            "metadata": {
              "additionalProperties": true,
              "title": "Metadata",
              "type": "object"
            }
          },
          "required": [
            "schema_path"
          ],
          "title": "IdentifierSchema",
          "type": "object"
        },
        "IdsNode": {
          "additionalProperties": true,
          "description": "Complete data path information extracted from XML.",
          "properties": {
            "path": {
              "title": "Path",
              "type": "string"
            },
            "documentation": {
              "title": "Documentation",
              "type": "string"
            },
            "units": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Units"
            },
            "coordinates": {
              "items": {
                "type": "string"
              },
              "title": "Coordinates",
              "type": "array"
            },
            "lifecycle": {
              "default": "active",
              "title": "Lifecycle",
              "type": "string"
            },
            "data_type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Data Type"
            },
            "introduced_after_version": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Introduced After Version"
            },
            "lifecycle_status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Lifecycle Status"
            },
            "lifecycle_version": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Lifecycle Version"
            },
            "physics_context": {
              "anyOf": [
                {
                  "$ref": "#/$defs/PhysicsContext"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "related_paths": {
              "items": {
                "type": "string"
              },
              "title": "Related Paths",
              "type": "array"
            },
            "usage_examples": {
              "items": {
                "$ref": "#/$defs/UsageExample"
              },
              "title": "Usage Examples",
              "type": "array"
            },
            "validation_rules": {
              "anyOf": [
                {
                  "$ref": "#/$defs/ValidationRules"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "identifier_schema": {
              "anyOf": [
                {
                  "$ref": "#/$defs/IdentifierSchema"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "coordinate1": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Coordinate1"
            },
            "coordinate2": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Coordinate2"
            },
            "timebase": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Timebase"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Type"
            },
            "structure_reference": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Structure Reference"
            }
          },
          "required": [
            "path",
            "documentation"
          ],
          "title": "IdsNode",
          "type": "object"
        },
        "PhysicsContext": {
          "description": "Physics context for a data field.",
          "properties": {
            "domain": {
              "title": "Domain",
              "type": "string"
            },
            "phenomena": {
              "items": {
                "type": "string"
              },
              "title": "Phenomena",
              "type": "array"
            },
            "typical_values": {
              "additionalProperties": {
                "type": "string"
              },
              "title": "Typical Values",
              "type": "object"
            }
          },
          "required": [
            "domain"
          ],
          "title": "PhysicsContext",
          "type": "object"
        },
        "PhysicsDomain": {
          "description": "Physics domains in IMAS with comprehensive categorization.",
          "enum": [
            "equilibrium",
            "transport",
            "mhd",
            "turbulence",
            "heating",
            "current_drive",
            "wall",
            "divertor",
            "edge_physics",
            "particle_diagnostics",
            "electromagnetic_diagnostics",
            "radiation_diagnostics",
            "magnetic_diagnostics",
            "mechanical_diagnostics",
            "control",
            "operational",
            "coils",
            "structure",
            "systems",
            "data_management",
            "workflow",
            "general"
          ],
          "title": "PhysicsDomain",
          "type": "string"
        },
        "PhysicsMatch": {
          "description": "A physics concept match from search.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "quantity_name": {
              "title": "Quantity Name",
              "type": "string"
            },
            "symbol": {
              "title": "Symbol",
              "type": "string"
            },
            "units": {
              "title": "Units",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "imas_paths": {
              "items": {
                "type": "string"
              },
              "title": "Imas Paths",
              "type": "array"
            },
            "domain": {
              "$ref": "#/$defs/PhysicsDomain"
            },
            "relevance_score": {
              "title": "Relevance Score",
              "type": "number"
            }
          },
          "required": [
            "concept",
            "quantity_name",
            "symbol",
            "units",
            "description",
            "domain",
            "relevance_score"
          ],
          "title": "PhysicsMatch",
          "type": "object"
        },
        "PhysicsSearchResult": {
          "description": "Complete physics search result.",
          "properties": {
            "query": {
              "title": "Query",
              "type": "string"
            },
            "physics_matches": {
              "items": {
                "$ref": "#/$defs/PhysicsMatch"
              },
              "title": "Physics Matches",
              "type": "array"
            },
            "concept_suggestions": {
              "items": {
                "$ref": "#/$defs/ConceptSuggestion"
              },
              "title": "Concept Suggestions",
              "type": "array"
            },
            "unit_suggestions": {
              "items": {
                "$ref": "#/$defs/UnitSuggestion"
              },
              "title": "Unit Suggestions",
              "type": "array"
            },
            "symbol_suggestions": {
              "items": {
                "$ref": "#/$defs/SymbolSuggestion"
              },
              "title": "Symbol Suggestions",
              "type": "array"
            },
            "imas_path_suggestions": {
              "items": {
                "type": "string"
              },
              "title": "Imas Path Suggestions",
              "type": "array"
            }
          },
          "required": [
            "query"
          ],
          "title": "PhysicsSearchResult",
          "type": "object"
        },
        "SearchHit": {
          "description": "API-friendly search hit without internal document reference.",
          "properties": {
            "score": {
              "description": "Relevance/similarity score",
              "title": "Score",
              "type": "number"
            },
            "rank": {
              "description": "Rank/position in search results",
              "title": "Rank",
              "type": "integer"
            },
            "search_mode": {
              "$ref": "#/$defs/SearchMode",
              "description": "Search mode that found this result"
            },
            "highlights": {
              "default": "",
              "description": "Highlighted text snippets",
              "title": "Highlights",
              "type": "string"
            },
            "path": {
              "description": "Full IMAS path",
              "title": "Path",
              "type": "string"
            },
            "documentation": {
              "description": "Path documentation",
              "title": "Documentation",
              "type": "string"
            },
            "units": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physical units",
              "title": "Units"
            },
            "data_type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Data type",
              "title": "Data Type"
            },
            "ids_name": {
              "description": "IDS name this path belongs to",
              "title": "Ids Name",
              "type": "string"
            },
            "physics_domain": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physics domain",
              "title": "Physics Domain"
            }
          },
          "required": [
            "score",
            "rank",
            "search_mode",
            "path",
            "documentation",
            "ids_name"
          ],
          "title": "SearchHit",
          "type": "object"
        },
        "SearchMode": {
          "description": "Enumeration of available search modes. Following search strategies are supported:\n- semantic: AI-powered semantic search using sentence transformers\n- lexical: Traditional full-text search using SQLite FTS5\n- hybrid: Combination of semantic and lexical search\n- auto: Automatically choose best mode based on query\nTo perform a full search use hybrid mode and increase Max Results to get all relevant results.",
          "enum": [
            "semantic",
            "lexical",
            "hybrid",
            "auto"
          ],
          "title": "SearchMode",
          "type": "string"
        },
        "SearchSuggestion": {
          "description": "A search suggestion with context.",
          "properties": {
            "suggestion": {
              "description": "The suggested search term or phrase",
              "title": "Suggestion",
              "type": "string"
            },
            "reason": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this suggestion is relevant",
              "title": "Reason"
            },
            "confidence": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Confidence score 0-1",
              "title": "Confidence"
            }
          },
          "required": [
            "suggestion"
          ],
          "title": "SearchSuggestion",
          "type": "object"
        },
        "SymbolSuggestion": {
          "description": "A symbol suggestion.",
          "properties": {
            "symbol": {
              "title": "Symbol",
              "type": "string"
            },
            "concept": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Concept"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Description"
            }
          },
          "required": [
            "symbol"
          ],
          "title": "SymbolSuggestion",
          "type": "object"
        },
        "ToolSuggestion": {
          "description": "A tool suggestion with context.",
          "properties": {
            "tool_name": {
              "description": "Name of the suggested tool",
              "title": "Tool Name",
              "type": "string"
            },
            "description": {
              "description": "Description of what the tool does",
              "title": "Description",
              "type": "string"
            },
            "relevance": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this tool is relevant",
              "title": "Relevance"
            }
          },
          "required": [
            "tool_name",
            "description"
          ],
          "title": "ToolSuggestion",
          "type": "object"
        },
        "UnitSuggestion": {
          "description": "A unit suggestion.",
          "properties": {
            "unit": {
              "title": "Unit",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "example_quantities": {
              "items": {
                "type": "string"
              },
              "title": "Example Quantities",
              "type": "array"
            }
          },
          "required": [
            "unit",
            "description"
          ],
          "title": "UnitSuggestion",
          "type": "object"
        },
        "UsageExample": {
          "description": "Code usage example.",
          "properties": {
            "scenario": {
              "title": "Scenario",
              "type": "string"
            },
            "code": {
              "title": "Code",
              "type": "string"
            },
            "notes": {
              "title": "Notes",
              "type": "string"
            }
          },
          "required": [
            "scenario",
            "code",
            "notes"
          ],
          "title": "UsageExample",
          "type": "object"
        },
        "ValidationRules": {
          "description": "Validation rules for data fields.",
          "properties": {
            "min_value": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Min Value"
            },
            "max_value": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Max Value"
            },
            "units_required": {
              "default": true,
              "title": "Units Required",
              "type": "boolean"
            },
            "coordinate_check": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Coordinate Check"
            }
          },
          "title": "ValidationRules",
          "type": "object"
        }
      },
      "description": "Search tool result.",
      "properties": {
        "summary": {
          "additionalProperties": true,
          "description": "Summary of all matching paths",
          "title": "Summary",
          "type": "object"
        },
        "hits": {
          "description": "Search hits",
          "items": {
            "$ref": "#/$defs/SearchHit"
          },
          "title": "Hits",
          "type": "array"
        },
        "physics_domains": {
          "items": {
            "type": "string"
          },
          "title": "Physics Domains",
          "type": "array"
        },
        "physics_context": {
          "anyOf": [
            {
              "$ref": "#/$defs/PhysicsSearchResult"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "nodes": {
          "items": {
            "$ref": "#/$defs/IdsNode"
          },
          "title": "Nodes",
          "type": "array"
        },
        "search_mode": {
          "$ref": "#/$defs/SearchMode",
          "default": "auto",
          "description": "Search mode used"
        },
        "ids_filter": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "IDS filter to apply",
          "title": "Ids Filter"
        },
        "max_results": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Maximum results to return",
          "title": "Max Results"
        },
        "query": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Original user query",
          "title": "Query"
        },
        "ai_prompt": {
          "additionalProperties": {
            "type": "string"
          },
          "description": "AI prompts that were used",
          "title": "Ai Prompt",
          "type": "object"
        },
        "ai_response": {
          "additionalProperties": true,
          "description": "AI-generated responses",
          "title": "Ai Response",
          "type": "object"
        },
        "query_hints": {
          "description": "Query suggestions for follow-up searches",
          "items": {
            "$ref": "#/$defs/SearchSuggestion"
          },
          "title": "Query Hints",
          "type": "array"
        },
        "tool_hints": {
          "description": "Tool suggestions for follow-up analysis",
          "items": {
            "$ref": "#/$defs/ToolSuggestion"
          },
          "title": "Tool Hints",
          "type": "array"
        }
      },
      "title": "SearchResult",
      "type": "object"
    },
    "annotations": null,
    "meta": {
      "_fastmcp": {
        "tags": []
      }
    }
  },
  {
    "name": "explain_concept",
    "title": null,
    "description": "\n        Provide detailed explanations of fusion physics concepts and IMAS terminology.\n\n        Educational tool that explains physics concepts, measurement techniques, and\n        IMAS-specific terminology with appropriate technical depth. Includes related\n        data paths and practical guidance for data access.\n\n        Args:\n            concept: Physics concept, measurement name, or IMAS term to explain\n            detail_level: Explanation depth - basic, intermediate, or advanced\n            ctx: MCP context for AI enhancement\n\n        Returns:\n            ConceptResult with explanation, physics context, and related information\n        ",
    "inputSchema": {
      "$defs": {
        "DetailLevel": {
          "description": "Detail levels for explanations.",
          "enum": [
            "basic",
            "intermediate",
            "advanced"
          ],
          "title": "DetailLevel",
          "type": "string"
        }
      },
      "properties": {
        "concept": {
          "title": "Concept",
          "type": "string"
        },
        "detail_level": {
          "$ref": "#/$defs/DetailLevel",
          "default": "intermediate",
          "title": "Detail Level"
        }
      },
      "required": [
        "concept"
      ],
      "type": "object"
    },
    "outputSchema": {
      "$defs": {
        "ComplexityLevel": {
          "description": "Complexity levels for concept explanations.",
          "enum": [
            "basic",
            "intermediate",
            "advanced"
          ],
          "title": "ComplexityLevel",
          "type": "string"
        },
        "ConceptExplanation": {
          "description": "Explanation of a physics concept with domain context.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "domain": {
              "$ref": "#/$defs/PhysicsDomain"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "phenomena": {
              "items": {
                "type": "string"
              },
              "title": "Phenomena",
              "type": "array"
            },
            "typical_units": {
              "items": {
                "type": "string"
              },
              "title": "Typical Units",
              "type": "array"
            },
            "measurement_methods": {
              "items": {
                "type": "string"
              },
              "title": "Measurement Methods",
              "type": "array"
            },
            "related_domains": {
              "items": {
                "$ref": "#/$defs/PhysicsDomain"
              },
              "title": "Related Domains",
              "type": "array"
            },
            "complexity_level": {
              "$ref": "#/$defs/ComplexityLevel",
              "default": "intermediate"
            }
          },
          "required": [
            "concept",
            "domain",
            "description"
          ],
          "title": "ConceptExplanation",
          "type": "object"
        },
        "ConceptResult": {
          "description": "Concept explanation result.",
          "properties": {
            "physics_domains": {
              "items": {
                "type": "string"
              },
              "title": "Physics Domains",
              "type": "array"
            },
            "physics_context": {
              "anyOf": [
                {
                  "$ref": "#/$defs/PhysicsSearchResult"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "nodes": {
              "items": {
                "$ref": "#/$defs/IdsNode"
              },
              "title": "Nodes",
              "type": "array"
            },
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "query_hints": {
              "description": "Query suggestions for follow-up searches",
              "items": {
                "$ref": "#/$defs/SearchSuggestion"
              },
              "title": "Query Hints",
              "type": "array"
            },
            "tool_hints": {
              "description": "Tool suggestions for follow-up analysis",
              "items": {
                "$ref": "#/$defs/ToolSuggestion"
              },
              "title": "Tool Hints",
              "type": "array"
            },
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "explanation": {
              "title": "Explanation",
              "type": "string"
            },
            "detail_level": {
              "$ref": "#/$defs/DetailLevel",
              "default": "intermediate"
            },
            "related_topics": {
              "items": {
                "type": "string"
              },
              "title": "Related Topics",
              "type": "array"
            },
            "concept_explanation": {
              "anyOf": [
                {
                  "$ref": "#/$defs/ConceptExplanation"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            }
          },
          "required": [
            "concept",
            "explanation"
          ],
          "title": "ConceptResult",
          "type": "object"
        },
        "ConceptSuggestion": {
          "description": "A concept suggestion.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Description"
            }
          },
          "required": [
            "concept"
          ],
          "title": "ConceptSuggestion",
          "type": "object"
        },
        "DetailLevel": {
          "description": "Detail levels for explanations.",
          "enum": [
            "basic",
            "intermediate",
            "advanced"
          ],
          "title": "DetailLevel",
          "type": "string"
        },
        "IdentifierOption": {
          "description": "Single identifier enumeration option.",
          "properties": {
            "name": {
              "title": "Name",
              "type": "string"
            },
            "index": {
              "title": "Index",
              "type": "integer"
            },
            "description": {
              "title": "Description",
              "type": "string"
            }
          },
          "required": [
            "name",
            "index",
            "description"
          ],
          "title": "IdentifierOption",
          "type": "object"
        },
        "IdentifierSchema": {
          "description": "Complete identifier schema from XML file.",
          "properties": {
            "schema_path": {
              "title": "Schema Path",
              "type": "string"
            },
            "documentation": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Documentation"
            },
            "options": {
              "items": {
                "$ref": "#/$defs/IdentifierOption"
              },
              "title": "Options",
              "type": "array"
            },
            "metadata": {
              "additionalProperties": true,
              "title": "Metadata",
              "type": "object"
            }
          },
          "required": [
            "schema_path"
          ],
          "title": "IdentifierSchema",
          "type": "object"
        },
        "IdsNode": {
          "additionalProperties": true,
          "description": "Complete data path information extracted from XML.",
          "properties": {
            "path": {
              "title": "Path",
              "type": "string"
            },
            "documentation": {
              "title": "Documentation",
              "type": "string"
            },
            "units": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Units"
            },
            "coordinates": {
              "items": {
                "type": "string"
              },
              "title": "Coordinates",
              "type": "array"
            },
            "lifecycle": {
              "default": "active",
              "title": "Lifecycle",
              "type": "string"
            },
            "data_type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Data Type"
            },
            "introduced_after_version": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Introduced After Version"
            },
            "lifecycle_status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Lifecycle Status"
            },
            "lifecycle_version": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Lifecycle Version"
            },
            "physics_context": {
              "anyOf": [
                {
                  "$ref": "#/$defs/PhysicsContext"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "related_paths": {
              "items": {
                "type": "string"
              },
              "title": "Related Paths",
              "type": "array"
            },
            "usage_examples": {
              "items": {
                "$ref": "#/$defs/UsageExample"
              },
              "title": "Usage Examples",
              "type": "array"
            },
            "validation_rules": {
              "anyOf": [
                {
                  "$ref": "#/$defs/ValidationRules"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "identifier_schema": {
              "anyOf": [
                {
                  "$ref": "#/$defs/IdentifierSchema"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "coordinate1": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Coordinate1"
            },
            "coordinate2": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Coordinate2"
            },
            "timebase": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Timebase"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Type"
            },
            "structure_reference": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Structure Reference"
            }
          },
          "required": [
            "path",
            "documentation"
          ],
          "title": "IdsNode",
          "type": "object"
        },
        "PhysicsContext": {
          "description": "Physics context for a data field.",
          "properties": {
            "domain": {
              "title": "Domain",
              "type": "string"
            },
            "phenomena": {
              "items": {
                "type": "string"
              },
              "title": "Phenomena",
              "type": "array"
            },
            "typical_values": {
              "additionalProperties": {
                "type": "string"
              },
              "title": "Typical Values",
              "type": "object"
            }
          },
          "required": [
            "domain"
          ],
          "title": "PhysicsContext",
          "type": "object"
        },
        "PhysicsDomain": {
          "description": "Physics domains in IMAS with comprehensive categorization.",
          "enum": [
            "equilibrium",
            "transport",
            "mhd",
            "turbulence",
            "heating",
            "current_drive",
            "wall",
            "divertor",
            "edge_physics",
            "particle_diagnostics",
            "electromagnetic_diagnostics",
            "radiation_diagnostics",
            "magnetic_diagnostics",
            "mechanical_diagnostics",
            "control",
            "operational",
            "coils",
            "structure",
            "systems",
            "data_management",
            "workflow",
            "general"
          ],
          "title": "PhysicsDomain",
          "type": "string"
        },
        "PhysicsMatch": {
          "description": "A physics concept match from search.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "quantity_name": {
              "title": "Quantity Name",
              "type": "string"
            },
            "symbol": {
              "title": "Symbol",
              "type": "string"
            },
            "units": {
              "title": "Units",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "imas_paths": {
              "items": {
                "type": "string"
              },
              "title": "Imas Paths",
              "type": "array"
            },
            "domain": {
              "$ref": "#/$defs/PhysicsDomain"
            },
            "relevance_score": {
              "title": "Relevance Score",
              "type": "number"
            }
          },
          "required": [
            "concept",
            "quantity_name",
            "symbol",
            "units",
            "description",
            "domain",
            "relevance_score"
          ],
          "title": "PhysicsMatch",
          "type": "object"
        },
        "PhysicsSearchResult": {
          "description": "Complete physics search result.",
          "properties": {
            "query": {
              "title": "Query",
              "type": "string"
            },
            "physics_matches": {
              "items": {
                "$ref": "#/$defs/PhysicsMatch"
              },
              "title": "Physics Matches",
              "type": "array"
            },
            "concept_suggestions": {
              "items": {
                "$ref": "#/$defs/ConceptSuggestion"
              },
              "title": "Concept Suggestions",
              "type": "array"
            },
            "unit_suggestions": {
              "items": {
                "$ref": "#/$defs/UnitSuggestion"
              },
              "title": "Unit Suggestions",
              "type": "array"
            },
            "symbol_suggestions": {
              "items": {
                "$ref": "#/$defs/SymbolSuggestion"
              },
              "title": "Symbol Suggestions",
              "type": "array"
            },
            "imas_path_suggestions": {
              "items": {
                "type": "string"
              },
              "title": "Imas Path Suggestions",
              "type": "array"
            }
          },
          "required": [
            "query"
          ],
          "title": "PhysicsSearchResult",
          "type": "object"
        },
        "SearchMode": {
          "description": "Enumeration of available search modes. Following search strategies are supported:\n- semantic: AI-powered semantic search using sentence transformers\n- lexical: Traditional full-text search using SQLite FTS5\n- hybrid: Combination of semantic and lexical search\n- auto: Automatically choose best mode based on query\nTo perform a full search use hybrid mode and increase Max Results to get all relevant results.",
          "enum": [
            "semantic",
            "lexical",
            "hybrid",
            "auto"
          ],
          "title": "SearchMode",
          "type": "string"
        },
        "SearchSuggestion": {
          "description": "A search suggestion with context.",
          "properties": {
            "suggestion": {
              "description": "The suggested search term or phrase",
              "title": "Suggestion",
              "type": "string"
            },
            "reason": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this suggestion is relevant",
              "title": "Reason"
            },
            "confidence": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Confidence score 0-1",
              "title": "Confidence"
            }
          },
          "required": [
            "suggestion"
          ],
          "title": "SearchSuggestion",
          "type": "object"
        },
        "SymbolSuggestion": {
          "description": "A symbol suggestion.",
          "properties": {
            "symbol": {
              "title": "Symbol",
              "type": "string"
            },
            "concept": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Concept"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Description"
            }
          },
          "required": [
            "symbol"
          ],
          "title": "SymbolSuggestion",
          "type": "object"
        },
        "ToolError": {
          "description": "Error response with suggestions, context, and fallback data.",
          "properties": {
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "error": {
              "description": "Error message",
              "title": "Error",
              "type": "string"
            },
            "suggestions": {
              "description": "Suggested actions",
              "items": {
                "type": "string"
              },
              "title": "Suggestions",
              "type": "array"
            },
            "context": {
              "additionalProperties": true,
              "description": "Error context",
              "title": "Context",
              "type": "object"
            },
            "fallback_data": {
              "anyOf": [
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Optional fallback data when primary operation fails",
              "title": "Fallback Data"
            }
          },
          "required": [
            "error"
          ],
          "title": "ToolError",
          "type": "object"
        },
        "ToolSuggestion": {
          "description": "A tool suggestion with context.",
          "properties": {
            "tool_name": {
              "description": "Name of the suggested tool",
              "title": "Tool Name",
              "type": "string"
            },
            "description": {
              "description": "Description of what the tool does",
              "title": "Description",
              "type": "string"
            },
            "relevance": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this tool is relevant",
              "title": "Relevance"
            }
          },
          "required": [
            "tool_name",
            "description"
          ],
          "title": "ToolSuggestion",
          "type": "object"
        },
        "UnitSuggestion": {
          "description": "A unit suggestion.",
          "properties": {
            "unit": {
              "title": "Unit",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "example_quantities": {
              "items": {
                "type": "string"
              },
              "title": "Example Quantities",
              "type": "array"
            }
          },
          "required": [
            "unit",
            "description"
          ],
          "title": "UnitSuggestion",
          "type": "object"
        },
        "UsageExample": {
          "description": "Code usage example.",
          "properties": {
            "scenario": {
              "title": "Scenario",
              "type": "string"
            },
            "code": {
              "title": "Code",
              "type": "string"
            },
            "notes": {
              "title": "Notes",
              "type": "string"
            }
          },
          "required": [
            "scenario",
            "code",
            "notes"
          ],
          "title": "UsageExample",
          "type": "object"
        },
        "ValidationRules": {
          "description": "Validation rules for data fields.",
          "properties": {
            "min_value": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Min Value"
            },
            "max_value": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Max Value"
            },
            "units_required": {
              "default": true,
              "title": "Units Required",
              "type": "boolean"
            },
            "coordinate_check": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Coordinate Check"
            }
          },
          "title": "ValidationRules",
          "type": "object"
        }
      },
      "properties": {
        "result": {
          "anyOf": [
            {
              "$ref": "#/$defs/ConceptResult"
            },
            {
              "$ref": "#/$defs/ToolError"
            }
          ],
          "title": "Result"
        }
      },
      "required": [
        "result"
      ],
      "title": "_WrappedResult",
      "type": "object",
      "x-fastmcp-wrap-result": true
    },
    "annotations": null,
    "meta": {
      "_fastmcp": {
        "tags": []
      }
    }
  },
  {
    "name": "get_overview",
    "title": null,
    "description": "\n        Get high-level overview of IMAS data dictionary structure and contents.\n\n        Primary orientation tool for understanding available IDS, physics domains,\n        and data organization. Use this tool first to explore what data is available\n        and get recommendations for specific analysis workflows.\n\n        Args:\n            query: Optional focus area (physics domain, measurement type, or IDS name)\n            ctx: MCP context for potential AI enhancement\n\n        Returns:\n            OverviewResult with available IDS, physics domains, and usage guidance\n        ",
    "inputSchema": {
      "properties": {
        "query": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Query"
        }
      },
      "type": "object"
    },
    "outputSchema": {
      "$defs": {
        "ConceptSuggestion": {
          "description": "A concept suggestion.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Description"
            }
          },
          "required": [
            "concept"
          ],
          "title": "ConceptSuggestion",
          "type": "object"
        },
        "OverviewResult": {
          "description": "Overview tool response.",
          "properties": {
            "summary": {
              "additionalProperties": true,
              "description": "Summary of all matching paths",
              "title": "Summary",
              "type": "object"
            },
            "hits": {
              "description": "Search hits",
              "items": {
                "$ref": "#/$defs/SearchHit"
              },
              "title": "Hits",
              "type": "array"
            },
            "physics_domains": {
              "items": {
                "type": "string"
              },
              "title": "Physics Domains",
              "type": "array"
            },
            "physics_context": {
              "anyOf": [
                {
                  "$ref": "#/$defs/PhysicsSearchResult"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "query_hints": {
              "description": "Query suggestions for follow-up searches",
              "items": {
                "$ref": "#/$defs/SearchSuggestion"
              },
              "title": "Query Hints",
              "type": "array"
            },
            "tool_hints": {
              "description": "Tool suggestions for follow-up analysis",
              "items": {
                "$ref": "#/$defs/ToolSuggestion"
              },
              "title": "Tool Hints",
              "type": "array"
            },
            "content": {
              "title": "Content",
              "type": "string"
            },
            "available_ids": {
              "items": {
                "type": "string"
              },
              "title": "Available Ids",
              "type": "array"
            },
            "mcp_version": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "MCP Server version",
              "title": "Mcp Version"
            },
            "dd_version": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IMAS Data Dictionary version",
              "title": "Dd Version"
            },
            "generation_date": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "When the data dictionary was generated",
              "title": "Generation Date"
            },
            "total_leaf_nodes": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Total number of individual data elements",
              "title": "Total Leaf Nodes"
            },
            "identifier_schemas_count": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Number of available identifier schemas",
              "title": "Identifier Schemas Count"
            },
            "mcp_tools": {
              "description": "Available MCP tools on this server",
              "items": {
                "type": "string"
              },
              "title": "Mcp Tools",
              "type": "array"
            },
            "ids_statistics": {
              "additionalProperties": true,
              "description": "IDS usage and availability statistics",
              "title": "Ids Statistics",
              "type": "object"
            },
            "usage_guidance": {
              "additionalProperties": true,
              "description": "Usage guidance and getting started information",
              "title": "Usage Guidance",
              "type": "object"
            }
          },
          "required": [
            "content"
          ],
          "title": "OverviewResult",
          "type": "object"
        },
        "PhysicsDomain": {
          "description": "Physics domains in IMAS with comprehensive categorization.",
          "enum": [
            "equilibrium",
            "transport",
            "mhd",
            "turbulence",
            "heating",
            "current_drive",
            "wall",
            "divertor",
            "edge_physics",
            "particle_diagnostics",
            "electromagnetic_diagnostics",
            "radiation_diagnostics",
            "magnetic_diagnostics",
            "mechanical_diagnostics",
            "control",
            "operational",
            "coils",
            "structure",
            "systems",
            "data_management",
            "workflow",
            "general"
          ],
          "title": "PhysicsDomain",
          "type": "string"
        },
        "PhysicsMatch": {
          "description": "A physics concept match from search.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "quantity_name": {
              "title": "Quantity Name",
              "type": "string"
            },
            "symbol": {
              "title": "Symbol",
              "type": "string"
            },
            "units": {
              "title": "Units",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "imas_paths": {
              "items": {
                "type": "string"
              },
              "title": "Imas Paths",
              "type": "array"
            },
            "domain": {
              "$ref": "#/$defs/PhysicsDomain"
            },
            "relevance_score": {
              "title": "Relevance Score",
              "type": "number"
            }
          },
          "required": [
            "concept",
            "quantity_name",
            "symbol",
            "units",
            "description",
            "domain",
            "relevance_score"
          ],
          "title": "PhysicsMatch",
          "type": "object"
        },
        "PhysicsSearchResult": {
          "description": "Complete physics search result.",
          "properties": {
            "query": {
              "title": "Query",
              "type": "string"
            },
            "physics_matches": {
              "items": {
                "$ref": "#/$defs/PhysicsMatch"
              },
              "title": "Physics Matches",
              "type": "array"
            },
            "concept_suggestions": {
              "items": {
                "$ref": "#/$defs/ConceptSuggestion"
              },
              "title": "Concept Suggestions",
              "type": "array"
            },
            "unit_suggestions": {
              "items": {
                "$ref": "#/$defs/UnitSuggestion"
              },
              "title": "Unit Suggestions",
              "type": "array"
            },
            "symbol_suggestions": {
              "items": {
                "$ref": "#/$defs/SymbolSuggestion"
              },
              "title": "Symbol Suggestions",
              "type": "array"
            },
            "imas_path_suggestions": {
              "items": {
                "type": "string"
              },
              "title": "Imas Path Suggestions",
              "type": "array"
            }
          },
          "required": [
            "query"
          ],
          "title": "PhysicsSearchResult",
          "type": "object"
        },
        "SearchHit": {
          "description": "API-friendly search hit without internal document reference.",
          "properties": {
            "score": {
              "description": "Relevance/similarity score",
              "title": "Score",
              "type": "number"
            },
            "rank": {
              "description": "Rank/position in search results",
              "title": "Rank",
              "type": "integer"
            },
            "search_mode": {
              "$ref": "#/$defs/SearchMode",
              "description": "Search mode that found this result"
            },
            "highlights": {
              "default": "",
              "description": "Highlighted text snippets",
              "title": "Highlights",
              "type": "string"
            },
            "path": {
              "description": "Full IMAS path",
              "title": "Path",
              "type": "string"
            },
            "documentation": {
              "description": "Path documentation",
              "title": "Documentation",
              "type": "string"
            },
            "units": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physical units",
              "title": "Units"
            },
            "data_type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Data type",
              "title": "Data Type"
            },
            "ids_name": {
              "description": "IDS name this path belongs to",
              "title": "Ids Name",
              "type": "string"
            },
            "physics_domain": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physics domain",
              "title": "Physics Domain"
            }
          },
          "required": [
            "score",
            "rank",
            "search_mode",
            "path",
            "documentation",
            "ids_name"
          ],
          "title": "SearchHit",
          "type": "object"
        },
        "SearchMode": {
          "description": "Enumeration of available search modes. Following search strategies are supported:\n- semantic: AI-powered semantic search using sentence transformers\n- lexical: Traditional full-text search using SQLite FTS5\n- hybrid: Combination of semantic and lexical search\n- auto: Automatically choose best mode based on query\nTo perform a full search use hybrid mode and increase Max Results to get all relevant results.",
          "enum": [
            "semantic",
            "lexical",
            "hybrid",
            "auto"
          ],
          "title": "SearchMode",
          "type": "string"
        },
        "SearchSuggestion": {
          "description": "A search suggestion with context.",
          "properties": {
            "suggestion": {
              "description": "The suggested search term or phrase",
              "title": "Suggestion",
              "type": "string"
            },
            "reason": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this suggestion is relevant",
              "title": "Reason"
            },
            "confidence": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Confidence score 0-1",
              "title": "Confidence"
            }
          },
          "required": [
            "suggestion"
          ],
          "title": "SearchSuggestion",
          "type": "object"
        },
        "SymbolSuggestion": {
          "description": "A symbol suggestion.",
          "properties": {
            "symbol": {
              "title": "Symbol",
              "type": "string"
            },
            "concept": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Concept"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Description"
            }
          },
          "required": [
            "symbol"
          ],
          "title": "SymbolSuggestion",
          "type": "object"
        },
        "ToolError": {
          "description": "Error response with suggestions, context, and fallback data.",
          "properties": {
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "error": {
              "description": "Error message",
              "title": "Error",
              "type": "string"
            },
            "suggestions": {
              "description": "Suggested actions",
              "items": {
                "type": "string"
              },
              "title": "Suggestions",
              "type": "array"
            },
            "context": {
              "additionalProperties": true,
              "description": "Error context",
              "title": "Context",
              "type": "object"
            },
            "fallback_data": {
              "anyOf": [
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Optional fallback data when primary operation fails",
              "title": "Fallback Data"
            }
          },
          "required": [
            "error"
          ],
          "title": "ToolError",
          "type": "object"
        },
        "ToolSuggestion": {
          "description": "A tool suggestion with context.",
          "properties": {
            "tool_name": {
              "description": "Name of the suggested tool",
              "title": "Tool Name",
              "type": "string"
            },
            "description": {
              "description": "Description of what the tool does",
              "title": "Description",
              "type": "string"
            },
            "relevance": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this tool is relevant",
              "title": "Relevance"
            }
          },
          "required": [
            "tool_name",
            "description"
          ],
          "title": "ToolSuggestion",
          "type": "object"
        },
        "UnitSuggestion": {
          "description": "A unit suggestion.",
          "properties": {
            "unit": {
              "title": "Unit",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "example_quantities": {
              "items": {
                "type": "string"
              },
              "title": "Example Quantities",
              "type": "array"
            }
          },
          "required": [
            "unit",
            "description"
          ],
          "title": "UnitSuggestion",
          "type": "object"
        }
      },
      "properties": {
        "result": {
          "anyOf": [
            {
              "$ref": "#/$defs/OverviewResult"
            },
            {
              "$ref": "#/$defs/ToolError"
            }
          ],
          "title": "Result"
        }
      },
      "required": [
        "result"
      ],
      "title": "_WrappedResult",
      "type": "object",
      "x-fastmcp-wrap-result": true
    },
    "annotations": null,
    "meta": {
      "_fastmcp": {
        "tags": []
      }
    }
  },
  {
    "name": "analyze_ids_structure",
    "title": null,
    "description": "\n        Analyze the internal structure and organization of a specific IMAS IDS.\n\n        Provides comprehensive structural analysis including data hierarchy, branching\n        points, identifier schemas, and physics context. Use this tool to understand\n        how data is organized within an IDS before accessing specific measurements.\n\n        Args:\n            ids_name: Name of the IDS to analyze (e.g., 'equilibrium', 'thomson_scattering')\n            ctx: MCP context for AI enhancement\n\n        Returns:\n            StructureResult with detailed analysis and AI insights\n        ",
    "inputSchema": {
      "properties": {
        "ids_name": {
          "title": "Ids Name",
          "type": "string"
        }
      },
      "required": [
        "ids_name"
      ],
      "type": "object"
    },
    "outputSchema": {
      "$defs": {
        "ConceptSuggestion": {
          "description": "A concept suggestion.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Description"
            }
          },
          "required": [
            "concept"
          ],
          "title": "ConceptSuggestion",
          "type": "object"
        },
        "DomainDistribution": {
          "description": "Distribution of physics domains within an IDS.",
          "properties": {
            "domain": {
              "title": "Domain",
              "type": "string"
            },
            "node_count": {
              "default": 0,
              "title": "Node Count",
              "type": "integer"
            },
            "percentage": {
              "default": 0.0,
              "title": "Percentage",
              "type": "number"
            },
            "key_paths": {
              "items": {
                "type": "string"
              },
              "title": "Key Paths",
              "type": "array"
            }
          },
          "required": [
            "domain"
          ],
          "title": "DomainDistribution",
          "type": "object"
        },
        "HierarchyMetrics": {
          "description": "Metrics about IDS hierarchy structure.",
          "properties": {
            "total_nodes": {
              "default": 0,
              "title": "Total Nodes",
              "type": "integer"
            },
            "leaf_nodes": {
              "default": 0,
              "title": "Leaf Nodes",
              "type": "integer"
            },
            "max_depth": {
              "default": 0,
              "title": "Max Depth",
              "type": "integer"
            },
            "branching_factor": {
              "default": 0.0,
              "title": "Branching Factor",
              "type": "number"
            },
            "complexity_score": {
              "default": 0.0,
              "title": "Complexity Score",
              "type": "number"
            }
          },
          "title": "HierarchyMetrics",
          "type": "object"
        },
        "MermaidGraphs": {
          "description": "Mermaid graph visualizations for IDS structure.",
          "properties": {
            "hierarchy_graph": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Hierarchical structure graph",
              "title": "Hierarchy Graph"
            },
            "physics_domains_graph": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physics domain organization graph",
              "title": "Physics Domains Graph"
            },
            "complexity_graph": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Complexity visualization graph",
              "title": "Complexity Graph"
            },
            "available_graphs": {
              "description": "Available graph types",
              "items": {
                "type": "string"
              },
              "title": "Available Graphs",
              "type": "array"
            }
          },
          "title": "MermaidGraphs",
          "type": "object"
        },
        "NavigationHints": {
          "description": "Hints for navigating the IDS structure.",
          "properties": {
            "entry_points": {
              "items": {
                "type": "string"
              },
              "title": "Entry Points",
              "type": "array"
            },
            "common_patterns": {
              "items": {
                "type": "string"
              },
              "title": "Common Patterns",
              "type": "array"
            },
            "drill_down_suggestions": {
              "items": {
                "type": "string"
              },
              "title": "Drill Down Suggestions",
              "type": "array"
            }
          },
          "title": "NavigationHints",
          "type": "object"
        },
        "PhysicsDomain": {
          "description": "Physics domains in IMAS with comprehensive categorization.",
          "enum": [
            "equilibrium",
            "transport",
            "mhd",
            "turbulence",
            "heating",
            "current_drive",
            "wall",
            "divertor",
            "edge_physics",
            "particle_diagnostics",
            "electromagnetic_diagnostics",
            "radiation_diagnostics",
            "magnetic_diagnostics",
            "mechanical_diagnostics",
            "control",
            "operational",
            "coils",
            "structure",
            "systems",
            "data_management",
            "workflow",
            "general"
          ],
          "title": "PhysicsDomain",
          "type": "string"
        },
        "PhysicsMatch": {
          "description": "A physics concept match from search.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "quantity_name": {
              "title": "Quantity Name",
              "type": "string"
            },
            "symbol": {
              "title": "Symbol",
              "type": "string"
            },
            "units": {
              "title": "Units",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "imas_paths": {
              "items": {
                "type": "string"
              },
              "title": "Imas Paths",
              "type": "array"
            },
            "domain": {
              "$ref": "#/$defs/PhysicsDomain"
            },
            "relevance_score": {
              "title": "Relevance Score",
              "type": "number"
            }
          },
          "required": [
            "concept",
            "quantity_name",
            "symbol",
            "units",
            "description",
            "domain",
            "relevance_score"
          ],
          "title": "PhysicsMatch",
          "type": "object"
        },
        "PhysicsSearchResult": {
          "description": "Complete physics search result.",
          "properties": {
            "query": {
              "title": "Query",
              "type": "string"
            },
            "physics_matches": {
              "items": {
                "$ref": "#/$defs/PhysicsMatch"
              },
              "title": "Physics Matches",
              "type": "array"
            },
            "concept_suggestions": {
              "items": {
                "$ref": "#/$defs/ConceptSuggestion"
              },
              "title": "Concept Suggestions",
              "type": "array"
            },
            "unit_suggestions": {
              "items": {
                "$ref": "#/$defs/UnitSuggestion"
              },
              "title": "Unit Suggestions",
              "type": "array"
            },
            "symbol_suggestions": {
              "items": {
                "$ref": "#/$defs/SymbolSuggestion"
              },
              "title": "Symbol Suggestions",
              "type": "array"
            },
            "imas_path_suggestions": {
              "items": {
                "type": "string"
              },
              "title": "Imas Path Suggestions",
              "type": "array"
            }
          },
          "required": [
            "query"
          ],
          "title": "PhysicsSearchResult",
          "type": "object"
        },
        "SearchMode": {
          "description": "Enumeration of available search modes. Following search strategies are supported:\n- semantic: AI-powered semantic search using sentence transformers\n- lexical: Traditional full-text search using SQLite FTS5\n- hybrid: Combination of semantic and lexical search\n- auto: Automatically choose best mode based on query\nTo perform a full search use hybrid mode and increase Max Results to get all relevant results.",
          "enum": [
            "semantic",
            "lexical",
            "hybrid",
            "auto"
          ],
          "title": "SearchMode",
          "type": "string"
        },
        "SearchSuggestion": {
          "description": "A search suggestion with context.",
          "properties": {
            "suggestion": {
              "description": "The suggested search term or phrase",
              "title": "Suggestion",
              "type": "string"
            },
            "reason": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this suggestion is relevant",
              "title": "Reason"
            },
            "confidence": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Confidence score 0-1",
              "title": "Confidence"
            }
          },
          "required": [
            "suggestion"
          ],
          "title": "SearchSuggestion",
          "type": "object"
        },
        "StructureAnalysis": {
          "description": "Enhanced structure analysis for IDS.",
          "properties": {
            "hierarchy_metrics": {
              "$ref": "#/$defs/HierarchyMetrics"
            },
            "domain_distribution": {
              "items": {
                "$ref": "#/$defs/DomainDistribution"
              },
              "title": "Domain Distribution",
              "type": "array"
            },
            "navigation_hints": {
              "$ref": "#/$defs/NavigationHints"
            },
            "complexity_summary": {
              "default": "",
              "title": "Complexity Summary",
              "type": "string"
            },
            "organization_pattern": {
              "default": "",
              "title": "Organization Pattern",
              "type": "string"
            },
            "mermaid_graphs": {
              "anyOf": [
                {
                  "$ref": "#/$defs/MermaidGraphs"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Mermaid visualization graphs"
            }
          },
          "title": "StructureAnalysis",
          "type": "object"
        },
        "StructureResult": {
          "description": "IDS structure analysis result.",
          "properties": {
            "physics_domains": {
              "items": {
                "type": "string"
              },
              "title": "Physics Domains",
              "type": "array"
            },
            "physics_context": {
              "anyOf": [
                {
                  "$ref": "#/$defs/PhysicsSearchResult"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "query_hints": {
              "description": "Query suggestions for follow-up searches",
              "items": {
                "$ref": "#/$defs/SearchSuggestion"
              },
              "title": "Query Hints",
              "type": "array"
            },
            "tool_hints": {
              "description": "Tool suggestions for follow-up analysis",
              "items": {
                "$ref": "#/$defs/ToolSuggestion"
              },
              "title": "Tool Hints",
              "type": "array"
            },
            "ids_name": {
              "title": "Ids Name",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "structure": {
              "additionalProperties": true,
              "title": "Structure",
              "type": "object"
            },
            "sample_paths": {
              "items": {
                "type": "string"
              },
              "title": "Sample Paths",
              "type": "array"
            },
            "max_depth": {
              "default": 0,
              "title": "Max Depth",
              "type": "integer"
            },
            "analysis": {
              "anyOf": [
                {
                  "$ref": "#/$defs/StructureAnalysis"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Enhanced structure analysis"
            }
          },
          "required": [
            "ids_name",
            "description"
          ],
          "title": "StructureResult",
          "type": "object"
        },
        "SymbolSuggestion": {
          "description": "A symbol suggestion.",
          "properties": {
            "symbol": {
              "title": "Symbol",
              "type": "string"
            },
            "concept": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Concept"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Description"
            }
          },
          "required": [
            "symbol"
          ],
          "title": "SymbolSuggestion",
          "type": "object"
        },
        "ToolError": {
          "description": "Error response with suggestions, context, and fallback data.",
          "properties": {
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "error": {
              "description": "Error message",
              "title": "Error",
              "type": "string"
            },
            "suggestions": {
              "description": "Suggested actions",
              "items": {
                "type": "string"
              },
              "title": "Suggestions",
              "type": "array"
            },
            "context": {
              "additionalProperties": true,
              "description": "Error context",
              "title": "Context",
              "type": "object"
            },
            "fallback_data": {
              "anyOf": [
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Optional fallback data when primary operation fails",
              "title": "Fallback Data"
            }
          },
          "required": [
            "error"
          ],
          "title": "ToolError",
          "type": "object"
        },
        "ToolSuggestion": {
          "description": "A tool suggestion with context.",
          "properties": {
            "tool_name": {
              "description": "Name of the suggested tool",
              "title": "Tool Name",
              "type": "string"
            },
            "description": {
              "description": "Description of what the tool does",
              "title": "Description",
              "type": "string"
            },
            "relevance": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this tool is relevant",
              "title": "Relevance"
            }
          },
          "required": [
            "tool_name",
            "description"
          ],
          "title": "ToolSuggestion",
          "type": "object"
        },
        "UnitSuggestion": {
          "description": "A unit suggestion.",
          "properties": {
            "unit": {
              "title": "Unit",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "example_quantities": {
              "items": {
                "type": "string"
              },
              "title": "Example Quantities",
              "type": "array"
            }
          },
          "required": [
            "unit",
            "description"
          ],
          "title": "UnitSuggestion",
          "type": "object"
        }
      },
      "properties": {
        "result": {
          "anyOf": [
            {
              "$ref": "#/$defs/StructureResult"
            },
            {
              "$ref": "#/$defs/ToolError"
            }
          ],
          "title": "Result"
        }
      },
      "required": [
        "result"
      ],
      "title": "_WrappedResult",
      "type": "object",
      "x-fastmcp-wrap-result": true
    },
    "annotations": null,
    "meta": {
      "_fastmcp": {
        "tags": []
      }
    }
  },
  {
    "name": "explore_relationships",
    "title": null,
    "description": "\n        Discover connections and cross-references between IMAS data paths.\n\n        **CRITICAL: This tool ONLY accepts IMAS data paths, not queries or descriptions.**\n        Use search_imas() first to find valid paths if you don't have exact path strings.\n\n        This tool provides sophisticated relationship discovery with multi-layered analysis,\n        semantic understanding, and physics domain integration. It reveals how different\n        measurements and calculations relate across IDS structures using advanced algorithms.\n\n        **Core Capabilities:**\n        - Multi-layered relationship discovery (semantic, structural, physics, measurement)\n        - 5-tier strength classification with quantitative scoring\n        - Physics domain integration with cross-domain bridging analysis\n        - Comprehensive metadata and contextual insights\n\n        **Strength Classification System:**\n        - very_strong (0.9): Direct physics coupling (e.g., density \u2194 density_fit)\n        - strong (0.7): Same measurement type (e.g., electron_density \u2194 ion_density)\n        - moderate (0.5): Related physics domain (e.g., transport \u2194 heating)\n        - weak (0.3): Structural similarity (e.g., same coordinate system)\n        - very_weak (0.1): Unit similarity only\n\n        **INPUT REQUIREMENTS - CRITICAL:**\n        \u2705 VALID: IMAS data paths only: \"core_profiles/profiles_1d/electrons/density\"\n        \u274c INVALID: Queries like \"electron density\" or \"find temperature data\"\n        \u274c INVALID: Natural language descriptions or partial paths\n\n        **Usage Examples:**\n\n        1. Comprehensive relationship analysis (recommended):\n        ```python\n        result = await explore_relationships(\n            path=\"core_profiles/profiles_1d/electrons/density\",\n            relationship_type=\"all\",  # Gets all 4 relationship types\n            max_depth=2               # Standard depth for comprehensive results\n        )\n        # Returns: ~15-20 relationships across semantic, structural, physics, measurement types\n        # Includes: strength scores, physics domains, cross-IDS connections\n        ```\n\n        2. Focus on physics relationships only:\n        ```python\n        result = await explore_relationships(\n            path=\"equilibrium/time_slice/profiles_2d/b_field_r\",\n            relationship_type=\"semantic\",  # Physics concepts and domain relationships\n            max_depth=1                    # Immediate relationships only\n        )\n        # Returns: ~3-8 semantically related paths with physics context\n        # Includes: domain bridging (e.g., mhd \u2194 transport connections)\n        ```\n\n        3. Structural analysis for data organization:\n        ```python\n        result = await explore_relationships(\n            path=\"transport/model/profiles_1d/conductivity_parallel\",\n            relationship_type=\"structural\", # Hierarchical and organizational\n            max_depth=1                     # Close structural relatives only\n        )\n        # Returns: ~2-6 structurally similar paths within same IDS\n        ```\n\n        4. Cross-domain physics analysis:\n        ```python\n        result = await explore_relationships(\n            path=\"heating/nbi/unit/power_launched\",\n            relationship_type=\"physics\",    # Physics domain relationships\n            max_depth=2                     # Extended physics connections\n        )\n        # Returns: ~5-12 physics-related paths with domain mapping\n        ```\n\n        **Typical Results by Physics Domain:**\n        - Transport paths: 15-20 relationships (high connectivity)\n        - Equilibrium paths: 8-15 relationships (magnetic field coupling)\n        - Heating paths: 6-12 relationships (power and energy flow)\n        - Diagnostic paths: 5-10 relationships (measurement chains)\n\n        Args:\n            path: **IMAS data path ONLY** - exact path string from IMAS data dictionary\n                  Examples: \"core_profiles/profiles_1d/electrons/density\"\n                           \"equilibrium/time_slice/global_quantities/psi_boundary\"\n                           \"thomson_scattering/channel/position/r\"\n                  Must be valid IMAS path - use search_imas() to find valid paths\n            relationship_type: Filter for specific relationship types:\n                - \"all\": All relationship types (semantic + structural + physics + measurement)\n                - \"semantic\": Physics concepts, domain relationships, phenomena connections\n                - \"structural\": Hierarchical organization, IDS structure, coordinate sharing\n                - \"physics\": Physics domain coupling, cross-domain analysis, measurement chains\n                - \"measurement\": Diagnostic chains, measurement dependencies, error propagation\n            max_depth: Relationship traversal depth (1-3):\n                - 1: Immediate relationships only (fast, focused)\n                - 2: Standard depth (recommended, balanced performance/coverage)\n                - 3: Extended analysis (comprehensive but slower)\n            ctx: MCP context for potential future AI enhancement\n\n        Returns:\n            RelationshipResult containing:\n            - **nodes**: List of related IdsNode objects with documentation and metadata\n            - **connections**: Categorized relationship lists (total, physics, cross-IDS)\n            - **physics_domains**: Identified physics domains (transport, mhd, thermal, etc.)\n            - **relationship_insights**: Discovery summary, strength analysis, semantic insights\n            - **physics_analysis**: Domain connections, phenomena, measurement chains\n            - **Standard metadata**: Query context, tool hints, processing timestamps\n\n        Raises:\n            ToolError: When path not found, invalid format, or no relationships discovered\n                      Includes helpful suggestions for alternative approaches\n\n        **Integration Patterns:**\n        1. **Discovery \u2192 Relationship \u2192 Analysis**: search_imas() \u2192 explore_relationships() \u2192 analyze_ids_structure()\n        2. **Relationship \u2192 Export**: explore_relationships() \u2192 export_physics_domain()\n        3. **Cross-domain mapping**: Use relationship_type=\"physics\" for domain bridging\n\n        **Performance Notes:**\n        - Typical execution: 0.5-2.0 seconds depending on path complexity\n        - Results limited to prevent overwhelming responses (nodes<15, connections<20)\n        - Caching enabled for repeated queries (TTL: 600 seconds)\n\n        **Path Discovery Workflow:**\n        If you don't have exact IMAS paths:\n        1. Use search_imas(\"your concept\") to find relevant paths\n        2. Use get_overview() to browse available IDS structures\n        3. Use explore_identifiers() to understand enumeration options\n        4. Then use explore_relationships() with discovered paths\n        ",
    "inputSchema": {
      "$defs": {
        "RelationshipType": {
          "description": "Types of relationships to explore.",
          "enum": [
            "all",
            "semantic",
            "structural",
            "physics",
            "measurement"
          ],
          "title": "RelationshipType",
          "type": "string"
        }
      },
      "properties": {
        "path": {
          "title": "Path",
          "type": "string"
        },
        "relationship_type": {
          "$ref": "#/$defs/RelationshipType",
          "default": "all",
          "title": "Relationship Type"
        },
        "max_depth": {
          "default": 2,
          "title": "Max Depth",
          "type": "integer"
        }
      },
      "required": [
        "path"
      ],
      "type": "object"
    },
    "outputSchema": {
      "$defs": {
        "ConceptSuggestion": {
          "description": "A concept suggestion.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Description"
            }
          },
          "required": [
            "concept"
          ],
          "title": "ConceptSuggestion",
          "type": "object"
        },
        "IdentifierOption": {
          "description": "Single identifier enumeration option.",
          "properties": {
            "name": {
              "title": "Name",
              "type": "string"
            },
            "index": {
              "title": "Index",
              "type": "integer"
            },
            "description": {
              "title": "Description",
              "type": "string"
            }
          },
          "required": [
            "name",
            "index",
            "description"
          ],
          "title": "IdentifierOption",
          "type": "object"
        },
        "IdentifierSchema": {
          "description": "Complete identifier schema from XML file.",
          "properties": {
            "schema_path": {
              "title": "Schema Path",
              "type": "string"
            },
            "documentation": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Documentation"
            },
            "options": {
              "items": {
                "$ref": "#/$defs/IdentifierOption"
              },
              "title": "Options",
              "type": "array"
            },
            "metadata": {
              "additionalProperties": true,
              "title": "Metadata",
              "type": "object"
            }
          },
          "required": [
            "schema_path"
          ],
          "title": "IdentifierSchema",
          "type": "object"
        },
        "IdsNode": {
          "additionalProperties": true,
          "description": "Complete data path information extracted from XML.",
          "properties": {
            "path": {
              "title": "Path",
              "type": "string"
            },
            "documentation": {
              "title": "Documentation",
              "type": "string"
            },
            "units": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Units"
            },
            "coordinates": {
              "items": {
                "type": "string"
              },
              "title": "Coordinates",
              "type": "array"
            },
            "lifecycle": {
              "default": "active",
              "title": "Lifecycle",
              "type": "string"
            },
            "data_type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Data Type"
            },
            "introduced_after_version": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Introduced After Version"
            },
            "lifecycle_status": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Lifecycle Status"
            },
            "lifecycle_version": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Lifecycle Version"
            },
            "physics_context": {
              "anyOf": [
                {
                  "$ref": "#/$defs/PhysicsContext"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "related_paths": {
              "items": {
                "type": "string"
              },
              "title": "Related Paths",
              "type": "array"
            },
            "usage_examples": {
              "items": {
                "$ref": "#/$defs/UsageExample"
              },
              "title": "Usage Examples",
              "type": "array"
            },
            "validation_rules": {
              "anyOf": [
                {
                  "$ref": "#/$defs/ValidationRules"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "identifier_schema": {
              "anyOf": [
                {
                  "$ref": "#/$defs/IdentifierSchema"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "coordinate1": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Coordinate1"
            },
            "coordinate2": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Coordinate2"
            },
            "timebase": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Timebase"
            },
            "type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Type"
            },
            "structure_reference": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Structure Reference"
            }
          },
          "required": [
            "path",
            "documentation"
          ],
          "title": "IdsNode",
          "type": "object"
        },
        "PhysicsContext": {
          "description": "Physics context for a data field.",
          "properties": {
            "domain": {
              "title": "Domain",
              "type": "string"
            },
            "phenomena": {
              "items": {
                "type": "string"
              },
              "title": "Phenomena",
              "type": "array"
            },
            "typical_values": {
              "additionalProperties": {
                "type": "string"
              },
              "title": "Typical Values",
              "type": "object"
            }
          },
          "required": [
            "domain"
          ],
          "title": "PhysicsContext",
          "type": "object"
        },
        "PhysicsDomain": {
          "description": "Physics domains in IMAS with comprehensive categorization.",
          "enum": [
            "equilibrium",
            "transport",
            "mhd",
            "turbulence",
            "heating",
            "current_drive",
            "wall",
            "divertor",
            "edge_physics",
            "particle_diagnostics",
            "electromagnetic_diagnostics",
            "radiation_diagnostics",
            "magnetic_diagnostics",
            "mechanical_diagnostics",
            "control",
            "operational",
            "coils",
            "structure",
            "systems",
            "data_management",
            "workflow",
            "general"
          ],
          "title": "PhysicsDomain",
          "type": "string"
        },
        "PhysicsMatch": {
          "description": "A physics concept match from search.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "quantity_name": {
              "title": "Quantity Name",
              "type": "string"
            },
            "symbol": {
              "title": "Symbol",
              "type": "string"
            },
            "units": {
              "title": "Units",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "imas_paths": {
              "items": {
                "type": "string"
              },
              "title": "Imas Paths",
              "type": "array"
            },
            "domain": {
              "$ref": "#/$defs/PhysicsDomain"
            },
            "relevance_score": {
              "title": "Relevance Score",
              "type": "number"
            }
          },
          "required": [
            "concept",
            "quantity_name",
            "symbol",
            "units",
            "description",
            "domain",
            "relevance_score"
          ],
          "title": "PhysicsMatch",
          "type": "object"
        },
        "PhysicsSearchResult": {
          "description": "Complete physics search result.",
          "properties": {
            "query": {
              "title": "Query",
              "type": "string"
            },
            "physics_matches": {
              "items": {
                "$ref": "#/$defs/PhysicsMatch"
              },
              "title": "Physics Matches",
              "type": "array"
            },
            "concept_suggestions": {
              "items": {
                "$ref": "#/$defs/ConceptSuggestion"
              },
              "title": "Concept Suggestions",
              "type": "array"
            },
            "unit_suggestions": {
              "items": {
                "$ref": "#/$defs/UnitSuggestion"
              },
              "title": "Unit Suggestions",
              "type": "array"
            },
            "symbol_suggestions": {
              "items": {
                "$ref": "#/$defs/SymbolSuggestion"
              },
              "title": "Symbol Suggestions",
              "type": "array"
            },
            "imas_path_suggestions": {
              "items": {
                "type": "string"
              },
              "title": "Imas Path Suggestions",
              "type": "array"
            }
          },
          "required": [
            "query"
          ],
          "title": "PhysicsSearchResult",
          "type": "object"
        },
        "RelationshipResult": {
          "description": "Relationship exploration result.",
          "properties": {
            "physics_domains": {
              "items": {
                "type": "string"
              },
              "title": "Physics Domains",
              "type": "array"
            },
            "physics_context": {
              "anyOf": [
                {
                  "$ref": "#/$defs/PhysicsSearchResult"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "nodes": {
              "items": {
                "$ref": "#/$defs/IdsNode"
              },
              "title": "Nodes",
              "type": "array"
            },
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "query_hints": {
              "description": "Query suggestions for follow-up searches",
              "items": {
                "$ref": "#/$defs/SearchSuggestion"
              },
              "title": "Query Hints",
              "type": "array"
            },
            "tool_hints": {
              "description": "Tool suggestions for follow-up analysis",
              "items": {
                "$ref": "#/$defs/ToolSuggestion"
              },
              "title": "Tool Hints",
              "type": "array"
            },
            "path": {
              "title": "Path",
              "type": "string"
            },
            "relationship_type": {
              "$ref": "#/$defs/RelationshipType",
              "default": "all"
            },
            "max_depth": {
              "default": 2,
              "title": "Max Depth",
              "type": "integer"
            },
            "connections": {
              "additionalProperties": {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "description": "Categorized relationship paths with intra-IDS and cross-IDS separation",
              "title": "Connections",
              "type": "object"
            },
            "relationship_insights": {
              "additionalProperties": true,
              "description": "Discovery summary, strength analysis, and semantic insights",
              "title": "Relationship Insights",
              "type": "object"
            },
            "physics_analysis": {
              "additionalProperties": true,
              "description": "Physics domain analysis, domain connections, and phenomena",
              "title": "Physics Analysis",
              "type": "object"
            }
          },
          "required": [
            "path"
          ],
          "title": "RelationshipResult",
          "type": "object"
        },
        "RelationshipType": {
          "description": "Types of relationships to explore.",
          "enum": [
            "all",
            "semantic",
            "structural",
            "physics",
            "measurement"
          ],
          "title": "RelationshipType",
          "type": "string"
        },
        "SearchMode": {
          "description": "Enumeration of available search modes. Following search strategies are supported:\n- semantic: AI-powered semantic search using sentence transformers\n- lexical: Traditional full-text search using SQLite FTS5\n- hybrid: Combination of semantic and lexical search\n- auto: Automatically choose best mode based on query\nTo perform a full search use hybrid mode and increase Max Results to get all relevant results.",
          "enum": [
            "semantic",
            "lexical",
            "hybrid",
            "auto"
          ],
          "title": "SearchMode",
          "type": "string"
        },
        "SearchSuggestion": {
          "description": "A search suggestion with context.",
          "properties": {
            "suggestion": {
              "description": "The suggested search term or phrase",
              "title": "Suggestion",
              "type": "string"
            },
            "reason": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this suggestion is relevant",
              "title": "Reason"
            },
            "confidence": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Confidence score 0-1",
              "title": "Confidence"
            }
          },
          "required": [
            "suggestion"
          ],
          "title": "SearchSuggestion",
          "type": "object"
        },
        "SymbolSuggestion": {
          "description": "A symbol suggestion.",
          "properties": {
            "symbol": {
              "title": "Symbol",
              "type": "string"
            },
            "concept": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Concept"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Description"
            }
          },
          "required": [
            "symbol"
          ],
          "title": "SymbolSuggestion",
          "type": "object"
        },
        "ToolError": {
          "description": "Error response with suggestions, context, and fallback data.",
          "properties": {
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "error": {
              "description": "Error message",
              "title": "Error",
              "type": "string"
            },
            "suggestions": {
              "description": "Suggested actions",
              "items": {
                "type": "string"
              },
              "title": "Suggestions",
              "type": "array"
            },
            "context": {
              "additionalProperties": true,
              "description": "Error context",
              "title": "Context",
              "type": "object"
            },
            "fallback_data": {
              "anyOf": [
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Optional fallback data when primary operation fails",
              "title": "Fallback Data"
            }
          },
          "required": [
            "error"
          ],
          "title": "ToolError",
          "type": "object"
        },
        "ToolSuggestion": {
          "description": "A tool suggestion with context.",
          "properties": {
            "tool_name": {
              "description": "Name of the suggested tool",
              "title": "Tool Name",
              "type": "string"
            },
            "description": {
              "description": "Description of what the tool does",
              "title": "Description",
              "type": "string"
            },
            "relevance": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this tool is relevant",
              "title": "Relevance"
            }
          },
          "required": [
            "tool_name",
            "description"
          ],
          "title": "ToolSuggestion",
          "type": "object"
        },
        "UnitSuggestion": {
          "description": "A unit suggestion.",
          "properties": {
            "unit": {
              "title": "Unit",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "example_quantities": {
              "items": {
                "type": "string"
              },
              "title": "Example Quantities",
              "type": "array"
            }
          },
          "required": [
            "unit",
            "description"
          ],
          "title": "UnitSuggestion",
          "type": "object"
        },
        "UsageExample": {
          "description": "Code usage example.",
          "properties": {
            "scenario": {
              "title": "Scenario",
              "type": "string"
            },
            "code": {
              "title": "Code",
              "type": "string"
            },
            "notes": {
              "title": "Notes",
              "type": "string"
            }
          },
          "required": [
            "scenario",
            "code",
            "notes"
          ],
          "title": "UsageExample",
          "type": "object"
        },
        "ValidationRules": {
          "description": "Validation rules for data fields.",
          "properties": {
            "min_value": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Min Value"
            },
            "max_value": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Max Value"
            },
            "units_required": {
              "default": true,
              "title": "Units Required",
              "type": "boolean"
            },
            "coordinate_check": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Coordinate Check"
            }
          },
          "title": "ValidationRules",
          "type": "object"
        }
      },
      "properties": {
        "result": {
          "anyOf": [
            {
              "$ref": "#/$defs/RelationshipResult"
            },
            {
              "$ref": "#/$defs/ToolError"
            }
          ],
          "title": "Result"
        }
      },
      "required": [
        "result"
      ],
      "title": "_WrappedResult",
      "type": "object",
      "x-fastmcp-wrap-result": true
    },
    "annotations": null,
    "meta": {
      "_fastmcp": {
        "tags": []
      }
    }
  },
  {
    "name": "explore_identifiers",
    "title": null,
    "description": "\n        Browse available identifier schemas and enumeration options in IMAS data.\n\n        This tool discovers valid identifier values, coordinate systems, and enumeration\n        options that control IMAS data access. Essential for understanding how to properly\n        specify array indices, measurement configurations, and data selection criteria.\n\n        Identifier schemas define the valid values for fields that act as discriminators\n        or selectors in IMAS data structures. These are critical for accessing the correct\n        data arrays and understanding measurement contexts.\n\n        Args:\n            query: Search terms to filter schemas using OR logic for multiple keywords.\n                  Supports multiple keywords separated by spaces or commas, finding schemas\n                  that match ANY of the provided keywords (broadens search results).\n                  Keywords are matched against schema names, descriptions, and option values.\n                  Examples: \"coordinate material\", \"transport,diffusion\", \"plasma equilibrium\"\n                  Use single broad keywords for best results: \"coordinate\", \"material\", \"transport\"\n                  Leave empty to see all schemas in the specified scope.\n            scope: Focus the search on specific identifier types:\n                  - \"all\": All identifier schemas (default, recommended for exploration)\n                  - \"enums\": Only schemas with enumeration options (for discrete choices)\n                  - \"identifiers\": Type and category identifiers (for classification)\n                  - \"coordinates\": Coordinate system and grid identifiers\n                  - \"constants\": Constant and parameter identifiers\n            ctx: MCP context for potential AI enhancement\n\n        Returns:\n            IdentifierResult containing:\n            - schemas: List of identifier schemas with enumeration options\n            - paths: IMAS data paths that use these identifiers\n            - analytics: Statistics about enumeration spaces and usage\n\n        ## Parameter Interaction Examples\n\n        ### \u274c Common LLM Mistakes:\n            # Too specific - will return empty results\n            explore_identifiers(query=\"grid coordinate systems\", scope=\"coordinates\")\n\n            # Multi-word technical phrases - may not match schema names\n            explore_identifiers(query=\"plasma equilibrium types\")\n\n            # Expecting query to search descriptions - it only filters schema names\n            explore_identifiers(query=\"magnetic flux coordinates\")\n\n        ### \u2705 Correct Usage Patterns:\n            # Multiple keywords using OR logic (matches ANY keyword)\n            explore_identifiers(query=\"coordinate material transport\")\n\n            # Comma-separated keywords for broader search\n            explore_identifiers(query=\"plasma, equilibrium, transport\")\n\n            # Single keyword matching schema names\n            explore_identifiers(query=\"material\")\n\n            # No query - see all schemas in scope first\n            explore_identifiers(scope=\"coordinates\")\n\n        ## Query Parameter Behavior\n\n        The `query` parameter now uses **OR logic** for multiple keywords:\n        - **Split on spaces/commas**: \"coordinate material\" \u2192 [\"coordinate\", \"material\"]\n        - **Match ANY keyword**: Returns schemas matching \"coordinate\" OR \"material\"\n        - **Scored results**: Better matches (name matches) ranked higher than option matches\n        - **Broader coverage**: More useful for discovery and exploration\n\n        **Searches across**:\n        - Schema names (highest weight)\n        - Schema descriptions (medium weight)\n        - Option names and descriptions (lowest weight)\n\n        ### Best Practices:\n        - Use multiple related keywords for broader discovery: \"transport diffusion convection\"\n        - Mix general and specific terms: \"plasma core edge\"\n        - Use both spaces and commas as separators: \"material, coordinate, physics\"\n        - Single keywords still work perfectly: \"material\"\n\n        ## Recommended Usage Pattern for LLMs\n\n        1. **Start broad**: Use scope without query to see available schemas\n        2. **Filter by category**: Use scope with broad keywords\n        3. **Examine specific schemas**: Use results to understand available options\n\n        ### Example Workflow:\n            # Step 1: See all coordinate-related schemas\n            explore_identifiers(scope=\"coordinates\")\n            \u2192 Returns: coordinate_identifier.xml, poloidal_plane_coordinates_identifier.xml\n\n            # Step 2: Filter to specific coordinate types\n            explore_identifiers(query=\"poloidal\", scope=\"coordinates\")\n            \u2192 Returns: poloidal_plane_coordinates_identifier.xml\n\n            # Step 3: Use schema information to configure data paths\n            # Now you know valid coordinate options for data access\n\n        ## Scope-Specific Examples\n\n        ### \"coordinates\" scope:\n        - Returns: coordinate_identifier.xml, poloidal_plane_coordinates_identifier.xml\n        - Use cases: Finding valid coordinate system options for 2D grids\n        - Common options: rectangular, inverse_psi_polar, flux surface types\n\n        ### \"enums\" scope:\n        - Returns: All enumeration schemas (same as \"all\" - shows enumeration counts)\n        - Use cases: Browsing all available identifier options\n        - Shows total enumeration space across all schemas\n\n        ### \"all\" scope:\n        - Returns: All 57+ identifier schemas\n        - Use cases: General exploration, finding schema categories\n        - Shows complete identifier landscape\n\n        Examples:\n            # Discover all available identifier schemas\n            explore_identifiers()\n            \u2192 Returns 58 schemas, 146 paths, enumeration space of 584\n\n            # Find material-related identifiers\n            explore_identifiers(query=\"material\", scope=\"enums\")\n            \u2192 Returns materials schema with 31 enumeration options (C, W, SS, etc.)\n\n            # Find transport-related identifiers (using OR logic)\n            explore_identifiers(query=\"transport core edge plasma\")\n            \u2192 Returns all schemas matching any of: transport, core, edge, or plasma\n\n            # Find coordinate system identifiers\n            explore_identifiers(scope=\"coordinates\")\n            \u2192 Returns 2 coordinate schemas with 68 enumeration options\n\n            # Find multiple related concepts\n            explore_identifiers(query=\"material type element\")\n            \u2192 Returns schemas matching material OR type OR element\n\n            # Find all enumeration schemas\n            explore_identifiers(scope=\"enums\")\n            \u2192 Returns all schemas showing their enumeration option counts\n\n        ## Common LLM Usage Errors to Avoid\n\n        \u274c **Don't**: Expect exact phrase matching (tool uses OR logic)\n        \u274c **Don't**: Use overly specific terminology\n        \u274c **Don't**: Assume query searches schema descriptions deeply\n\n        \u2705 **Do**: Use multiple relevant keywords for broader search\n        \u2705 **Do**: Start with scope-only calls for exploration\n        \u2705 **Do**: Use schema names from results for filtering\n        \u2705 **Do**: Check analytics.enumeration_space to understand complexity\n\n        Usage Tips for LLMs:\n            - Use multiple keywords: \"transport core edge plasma\", \"material type element\"\n            - Tool uses OR logic - any keyword match returns the schema\n            - Results ranked by relevance (name matches ranked highest)\n            - Avoid overly specific queries like \"plasma equilibrium state\"\n            - Start with scope=\"all\" or scope-only calls to explore available options\n            - Use scope=\"enums\" to find discrete choice options\n            - Check the analytics.enumeration_space to understand data complexity\n            - Use returned paths to understand where identifiers are used in IMAS\n\n        Common Query Patterns:\n            - Physics domains: \"plasma\", \"transport\", \"equilibrium\", \"sources\"\n            - Materials: \"material\", \"wall\", \"divertor\"\n            - Coordinates: \"coordinate\", \"grid\", \"geometry\"\n            - Measurements: \"diagnostic\", \"detector\", \"sensor\"\n            - Configuration: \"type\", \"mode\", \"status\"\n\n        Follow-up Actions:\n            - Use search_imas() with specific identifier values found here\n            - Use analyze_ids_structure() to see identifier usage in specific IDS\n            - Use explore_relationships() to find connections between identifiers\n        ",
    "inputSchema": {
      "$defs": {
        "IdentifierScope": {
          "description": "Scopes for identifier exploration.",
          "enum": [
            "all",
            "enums",
            "identifiers",
            "coordinates",
            "constants"
          ],
          "title": "IdentifierScope",
          "type": "string"
        }
      },
      "properties": {
        "query": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Query"
        },
        "scope": {
          "$ref": "#/$defs/IdentifierScope",
          "default": "all",
          "title": "Scope"
        }
      },
      "type": "object"
    },
    "outputSchema": {
      "$defs": {
        "ConceptSuggestion": {
          "description": "A concept suggestion.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Description"
            }
          },
          "required": [
            "concept"
          ],
          "title": "ConceptSuggestion",
          "type": "object"
        },
        "IdentifierResult": {
          "description": "Identifier exploration result.",
          "properties": {
            "physics_domains": {
              "items": {
                "type": "string"
              },
              "title": "Physics Domains",
              "type": "array"
            },
            "physics_context": {
              "anyOf": [
                {
                  "$ref": "#/$defs/PhysicsSearchResult"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "query_hints": {
              "description": "Query suggestions for follow-up searches",
              "items": {
                "$ref": "#/$defs/SearchSuggestion"
              },
              "title": "Query Hints",
              "type": "array"
            },
            "tool_hints": {
              "description": "Tool suggestions for follow-up analysis",
              "items": {
                "$ref": "#/$defs/ToolSuggestion"
              },
              "title": "Tool Hints",
              "type": "array"
            },
            "scope": {
              "$ref": "#/$defs/IdentifierScope",
              "default": "all"
            },
            "schemas": {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "title": "Schemas",
              "type": "array"
            },
            "paths": {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "title": "Paths",
              "type": "array"
            },
            "analytics": {
              "additionalProperties": true,
              "title": "Analytics",
              "type": "object"
            }
          },
          "title": "IdentifierResult",
          "type": "object"
        },
        "IdentifierScope": {
          "description": "Scopes for identifier exploration.",
          "enum": [
            "all",
            "enums",
            "identifiers",
            "coordinates",
            "constants"
          ],
          "title": "IdentifierScope",
          "type": "string"
        },
        "PhysicsDomain": {
          "description": "Physics domains in IMAS with comprehensive categorization.",
          "enum": [
            "equilibrium",
            "transport",
            "mhd",
            "turbulence",
            "heating",
            "current_drive",
            "wall",
            "divertor",
            "edge_physics",
            "particle_diagnostics",
            "electromagnetic_diagnostics",
            "radiation_diagnostics",
            "magnetic_diagnostics",
            "mechanical_diagnostics",
            "control",
            "operational",
            "coils",
            "structure",
            "systems",
            "data_management",
            "workflow",
            "general"
          ],
          "title": "PhysicsDomain",
          "type": "string"
        },
        "PhysicsMatch": {
          "description": "A physics concept match from search.",
          "properties": {
            "concept": {
              "title": "Concept",
              "type": "string"
            },
            "quantity_name": {
              "title": "Quantity Name",
              "type": "string"
            },
            "symbol": {
              "title": "Symbol",
              "type": "string"
            },
            "units": {
              "title": "Units",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "imas_paths": {
              "items": {
                "type": "string"
              },
              "title": "Imas Paths",
              "type": "array"
            },
            "domain": {
              "$ref": "#/$defs/PhysicsDomain"
            },
            "relevance_score": {
              "title": "Relevance Score",
              "type": "number"
            }
          },
          "required": [
            "concept",
            "quantity_name",
            "symbol",
            "units",
            "description",
            "domain",
            "relevance_score"
          ],
          "title": "PhysicsMatch",
          "type": "object"
        },
        "PhysicsSearchResult": {
          "description": "Complete physics search result.",
          "properties": {
            "query": {
              "title": "Query",
              "type": "string"
            },
            "physics_matches": {
              "items": {
                "$ref": "#/$defs/PhysicsMatch"
              },
              "title": "Physics Matches",
              "type": "array"
            },
            "concept_suggestions": {
              "items": {
                "$ref": "#/$defs/ConceptSuggestion"
              },
              "title": "Concept Suggestions",
              "type": "array"
            },
            "unit_suggestions": {
              "items": {
                "$ref": "#/$defs/UnitSuggestion"
              },
              "title": "Unit Suggestions",
              "type": "array"
            },
            "symbol_suggestions": {
              "items": {
                "$ref": "#/$defs/SymbolSuggestion"
              },
              "title": "Symbol Suggestions",
              "type": "array"
            },
            "imas_path_suggestions": {
              "items": {
                "type": "string"
              },
              "title": "Imas Path Suggestions",
              "type": "array"
            }
          },
          "required": [
            "query"
          ],
          "title": "PhysicsSearchResult",
          "type": "object"
        },
        "SearchMode": {
          "description": "Enumeration of available search modes. Following search strategies are supported:\n- semantic: AI-powered semantic search using sentence transformers\n- lexical: Traditional full-text search using SQLite FTS5\n- hybrid: Combination of semantic and lexical search\n- auto: Automatically choose best mode based on query\nTo perform a full search use hybrid mode and increase Max Results to get all relevant results.",
          "enum": [
            "semantic",
            "lexical",
            "hybrid",
            "auto"
          ],
          "title": "SearchMode",
          "type": "string"
        },
        "SearchSuggestion": {
          "description": "A search suggestion with context.",
          "properties": {
            "suggestion": {
              "description": "The suggested search term or phrase",
              "title": "Suggestion",
              "type": "string"
            },
            "reason": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this suggestion is relevant",
              "title": "Reason"
            },
            "confidence": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Confidence score 0-1",
              "title": "Confidence"
            }
          },
          "required": [
            "suggestion"
          ],
          "title": "SearchSuggestion",
          "type": "object"
        },
        "SymbolSuggestion": {
          "description": "A symbol suggestion.",
          "properties": {
            "symbol": {
              "title": "Symbol",
              "type": "string"
            },
            "concept": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Concept"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Description"
            }
          },
          "required": [
            "symbol"
          ],
          "title": "SymbolSuggestion",
          "type": "object"
        },
        "ToolError": {
          "description": "Error response with suggestions, context, and fallback data.",
          "properties": {
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "error": {
              "description": "Error message",
              "title": "Error",
              "type": "string"
            },
            "suggestions": {
              "description": "Suggested actions",
              "items": {
                "type": "string"
              },
              "title": "Suggestions",
              "type": "array"
            },
            "context": {
              "additionalProperties": true,
              "description": "Error context",
              "title": "Context",
              "type": "object"
            },
            "fallback_data": {
              "anyOf": [
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Optional fallback data when primary operation fails",
              "title": "Fallback Data"
            }
          },
          "required": [
            "error"
          ],
          "title": "ToolError",
          "type": "object"
        },
        "ToolSuggestion": {
          "description": "A tool suggestion with context.",
          "properties": {
            "tool_name": {
              "description": "Name of the suggested tool",
              "title": "Tool Name",
              "type": "string"
            },
            "description": {
              "description": "Description of what the tool does",
              "title": "Description",
              "type": "string"
            },
            "relevance": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this tool is relevant",
              "title": "Relevance"
            }
          },
          "required": [
            "tool_name",
            "description"
          ],
          "title": "ToolSuggestion",
          "type": "object"
        },
        "UnitSuggestion": {
          "description": "A unit suggestion.",
          "properties": {
            "unit": {
              "title": "Unit",
              "type": "string"
            },
            "description": {
              "title": "Description",
              "type": "string"
            },
            "example_quantities": {
              "items": {
                "type": "string"
              },
              "title": "Example Quantities",
              "type": "array"
            }
          },
          "required": [
            "unit",
            "description"
          ],
          "title": "UnitSuggestion",
          "type": "object"
        }
      },
      "properties": {
        "result": {
          "anyOf": [
            {
              "$ref": "#/$defs/IdentifierResult"
            },
            {
              "$ref": "#/$defs/ToolError"
            }
          ],
          "title": "Result"
        }
      },
      "required": [
        "result"
      ],
      "title": "_WrappedResult",
      "type": "object",
      "x-fastmcp-wrap-result": true
    },
    "annotations": null,
    "meta": {
      "_fastmcp": {
        "tags": []
      }
    }
  },
  {
    "name": "export_ids",
    "title": null,
    "description": "\n        Extract comprehensive data from multiple IDS for analysis and comparison.\n\n        Bulk data extraction tool that retrieves all data paths, documentation,\n        and metadata from specified IDS. Useful for comparative analysis,\n        cross-IDS workflows, and comprehensive data exploration.\n\n        Args:\n            ids_list: List of IDS names to export (e.g., ['equilibrium', 'transport'])\n            include_relationships: Include cross-IDS relationship analysis\n            include_physics: Include physics domain context and insights\n            output_format: Export format - structured, json, yaml, or markdown\n            ctx: MCP context for AI enhancement\n\n        Returns:\n            IDSExport with comprehensive data, relationships, and analysis guidance\n        ",
    "inputSchema": {
      "properties": {
        "ids_list": {
          "items": {
            "type": "string"
          },
          "title": "Ids List",
          "type": "array"
        },
        "include_relationships": {
          "default": true,
          "title": "Include Relationships",
          "type": "boolean"
        },
        "include_physics": {
          "default": true,
          "title": "Include Physics",
          "type": "boolean"
        },
        "output_format": {
          "default": "structured",
          "title": "Output Format",
          "type": "string"
        }
      },
      "required": [
        "ids_list"
      ],
      "type": "object"
    },
    "outputSchema": {
      "$defs": {
        "ExportData": {
          "description": "Structured export data instead of free-form dict.",
          "properties": {
            "ids_data": {
              "anyOf": [
                {
                  "additionalProperties": {
                    "$ref": "#/$defs/IdsInfo"
                  },
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS export data",
              "title": "Ids Data"
            },
            "cross_relationships": {
              "anyOf": [
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Cross-IDS relationships",
              "title": "Cross Relationships"
            },
            "export_summary": {
              "anyOf": [
                {
                  "$ref": "#/$defs/ExportSummary"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Export summary"
            },
            "analysis_depth": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Analysis depth used",
              "title": "Analysis Depth"
            },
            "paths": {
              "anyOf": [
                {
                  "items": {
                    "$ref": "#/$defs/IdsPath"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Domain paths",
              "title": "Paths"
            },
            "related_ids": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Related IDS names",
              "title": "Related Ids"
            },
            "error": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Error message if export failed",
              "title": "Error"
            },
            "explanation": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Error explanation",
              "title": "Explanation"
            },
            "suggestions": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Suggested actions",
              "title": "Suggestions"
            }
          },
          "title": "ExportData",
          "type": "object"
        },
        "ExportSummary": {
          "description": "Summary of export operation.",
          "properties": {
            "total_requested": {
              "description": "Total items requested",
              "title": "Total Requested",
              "type": "integer"
            },
            "successfully_exported": {
              "description": "Successfully exported items",
              "title": "Successfully Exported",
              "type": "integer"
            },
            "failed_exports": {
              "description": "Failed export count",
              "title": "Failed Exports",
              "type": "integer"
            },
            "total_paths_exported": {
              "description": "Total paths exported",
              "title": "Total Paths Exported",
              "type": "integer"
            },
            "export_completeness": {
              "description": "Export completeness status",
              "title": "Export Completeness",
              "type": "string"
            }
          },
          "required": [
            "total_requested",
            "successfully_exported",
            "failed_exports",
            "total_paths_exported",
            "export_completeness"
          ],
          "title": "ExportSummary",
          "type": "object"
        },
        "IDSExport": {
          "description": "IDS export result.",
          "properties": {
            "data": {
              "$ref": "#/$defs/ExportData",
              "description": "Structured export data"
            },
            "metadata": {
              "additionalProperties": true,
              "description": "Export metadata",
              "title": "Metadata",
              "type": "object"
            },
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "query_hints": {
              "description": "Query suggestions for follow-up searches",
              "items": {
                "$ref": "#/$defs/SearchSuggestion"
              },
              "title": "Query Hints",
              "type": "array"
            },
            "tool_hints": {
              "description": "Tool suggestions for follow-up analysis",
              "items": {
                "$ref": "#/$defs/ToolSuggestion"
              },
              "title": "Tool Hints",
              "type": "array"
            },
            "ids_names": {
              "items": {
                "type": "string"
              },
              "title": "Ids Names",
              "type": "array"
            },
            "include_physics": {
              "default": true,
              "title": "Include Physics",
              "type": "boolean"
            },
            "include_relationships": {
              "default": true,
              "title": "Include Relationships",
              "type": "boolean"
            }
          },
          "required": [
            "ids_names"
          ],
          "title": "IDSExport",
          "type": "object"
        },
        "IdsInfo": {
          "description": "Information about an exported IDS.",
          "properties": {
            "ids_name": {
              "description": "IDS name",
              "title": "Ids Name",
              "type": "string"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS description",
              "title": "Description"
            },
            "paths": {
              "description": "Paths in this IDS",
              "items": {
                "$ref": "#/$defs/IdsPath"
              },
              "title": "Paths",
              "type": "array"
            },
            "physics_domains": {
              "description": "Physics domains",
              "items": {
                "type": "string"
              },
              "title": "Physics Domains",
              "type": "array"
            },
            "measurement_types": {
              "description": "Measurement types",
              "items": {
                "type": "string"
              },
              "title": "Measurement Types",
              "type": "array"
            }
          },
          "required": [
            "ids_name"
          ],
          "title": "IdsInfo",
          "type": "object"
        },
        "IdsPath": {
          "description": "Information about an exported path.",
          "properties": {
            "path": {
              "description": "Full IMAS path",
              "title": "Path",
              "type": "string"
            },
            "documentation": {
              "description": "Path documentation",
              "title": "Documentation",
              "type": "string"
            },
            "physics_domain": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physics domain",
              "title": "Physics Domain"
            },
            "data_type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Data type",
              "title": "Data Type"
            },
            "units": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physical units",
              "title": "Units"
            }
          },
          "required": [
            "path",
            "documentation"
          ],
          "title": "IdsPath",
          "type": "object"
        },
        "SearchMode": {
          "description": "Enumeration of available search modes. Following search strategies are supported:\n- semantic: AI-powered semantic search using sentence transformers\n- lexical: Traditional full-text search using SQLite FTS5\n- hybrid: Combination of semantic and lexical search\n- auto: Automatically choose best mode based on query\nTo perform a full search use hybrid mode and increase Max Results to get all relevant results.",
          "enum": [
            "semantic",
            "lexical",
            "hybrid",
            "auto"
          ],
          "title": "SearchMode",
          "type": "string"
        },
        "SearchSuggestion": {
          "description": "A search suggestion with context.",
          "properties": {
            "suggestion": {
              "description": "The suggested search term or phrase",
              "title": "Suggestion",
              "type": "string"
            },
            "reason": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this suggestion is relevant",
              "title": "Reason"
            },
            "confidence": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Confidence score 0-1",
              "title": "Confidence"
            }
          },
          "required": [
            "suggestion"
          ],
          "title": "SearchSuggestion",
          "type": "object"
        },
        "ToolError": {
          "description": "Error response with suggestions, context, and fallback data.",
          "properties": {
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "error": {
              "description": "Error message",
              "title": "Error",
              "type": "string"
            },
            "suggestions": {
              "description": "Suggested actions",
              "items": {
                "type": "string"
              },
              "title": "Suggestions",
              "type": "array"
            },
            "context": {
              "additionalProperties": true,
              "description": "Error context",
              "title": "Context",
              "type": "object"
            },
            "fallback_data": {
              "anyOf": [
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Optional fallback data when primary operation fails",
              "title": "Fallback Data"
            }
          },
          "required": [
            "error"
          ],
          "title": "ToolError",
          "type": "object"
        },
        "ToolSuggestion": {
          "description": "A tool suggestion with context.",
          "properties": {
            "tool_name": {
              "description": "Name of the suggested tool",
              "title": "Tool Name",
              "type": "string"
            },
            "description": {
              "description": "Description of what the tool does",
              "title": "Description",
              "type": "string"
            },
            "relevance": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this tool is relevant",
              "title": "Relevance"
            }
          },
          "required": [
            "tool_name",
            "description"
          ],
          "title": "ToolSuggestion",
          "type": "object"
        }
      },
      "properties": {
        "result": {
          "anyOf": [
            {
              "$ref": "#/$defs/IDSExport"
            },
            {
              "$ref": "#/$defs/ToolError"
            }
          ],
          "title": "Result"
        }
      },
      "required": [
        "result"
      ],
      "title": "_WrappedResult",
      "type": "object",
      "x-fastmcp-wrap-result": true
    },
    "annotations": null,
    "meta": {
      "_fastmcp": {
        "tags": []
      }
    }
  },
  {
    "name": "export_physics_domain",
    "title": null,
    "description": "\n        Extract all data related to a specific physics domain across multiple IDS.\n\n        Domain-focused extraction tool that gathers measurements, calculations,\n        and diagnostics from a particular physics area (e.g., 'equilibrium',\n        'transport', 'heating'). Provides comprehensive analysis including\n        theoretical foundations, experimental methods, and cross-domain relationships.\n\n        Args:\n            domain: Physics domain name (e.g., 'transport', 'equilibrium', 'heating')\n            include_cross_domain: Include connections to related physics domains\n            analysis_depth: Detail level - comprehensive, focused, or overview\n            max_paths: Maximum data paths to include (limit: 50)\n            ctx: MCP context for AI enhancement\n\n        Returns:\n            DomainExport with comprehensive domain analysis, measurements, workflows, and guidance\n        ",
    "inputSchema": {
      "properties": {
        "domain": {
          "title": "Domain",
          "type": "string"
        },
        "include_cross_domain": {
          "default": false,
          "title": "Include Cross Domain",
          "type": "boolean"
        },
        "analysis_depth": {
          "default": "focused",
          "title": "Analysis Depth",
          "type": "string"
        },
        "max_paths": {
          "default": 10,
          "title": "Max Paths",
          "type": "integer"
        }
      },
      "required": [
        "domain"
      ],
      "type": "object"
    },
    "outputSchema": {
      "$defs": {
        "DomainExport": {
          "description": "Physics domain export result.",
          "properties": {
            "data": {
              "$ref": "#/$defs/ExportData",
              "description": "Structured export data"
            },
            "metadata": {
              "additionalProperties": true,
              "description": "Export metadata",
              "title": "Metadata",
              "type": "object"
            },
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "query_hints": {
              "description": "Query suggestions for follow-up searches",
              "items": {
                "$ref": "#/$defs/SearchSuggestion"
              },
              "title": "Query Hints",
              "type": "array"
            },
            "tool_hints": {
              "description": "Tool suggestions for follow-up analysis",
              "items": {
                "$ref": "#/$defs/ToolSuggestion"
              },
              "title": "Tool Hints",
              "type": "array"
            },
            "domain": {
              "title": "Domain",
              "type": "string"
            },
            "domain_info": {
              "anyOf": [
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "title": "Domain Info"
            },
            "include_cross_domain": {
              "default": false,
              "title": "Include Cross Domain",
              "type": "boolean"
            },
            "max_paths": {
              "default": 10,
              "title": "Max Paths",
              "type": "integer"
            }
          },
          "required": [
            "domain"
          ],
          "title": "DomainExport",
          "type": "object"
        },
        "ExportData": {
          "description": "Structured export data instead of free-form dict.",
          "properties": {
            "ids_data": {
              "anyOf": [
                {
                  "additionalProperties": {
                    "$ref": "#/$defs/IdsInfo"
                  },
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS export data",
              "title": "Ids Data"
            },
            "cross_relationships": {
              "anyOf": [
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Cross-IDS relationships",
              "title": "Cross Relationships"
            },
            "export_summary": {
              "anyOf": [
                {
                  "$ref": "#/$defs/ExportSummary"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Export summary"
            },
            "analysis_depth": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Analysis depth used",
              "title": "Analysis Depth"
            },
            "paths": {
              "anyOf": [
                {
                  "items": {
                    "$ref": "#/$defs/IdsPath"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Domain paths",
              "title": "Paths"
            },
            "related_ids": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Related IDS names",
              "title": "Related Ids"
            },
            "error": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Error message if export failed",
              "title": "Error"
            },
            "explanation": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Error explanation",
              "title": "Explanation"
            },
            "suggestions": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Suggested actions",
              "title": "Suggestions"
            }
          },
          "title": "ExportData",
          "type": "object"
        },
        "ExportSummary": {
          "description": "Summary of export operation.",
          "properties": {
            "total_requested": {
              "description": "Total items requested",
              "title": "Total Requested",
              "type": "integer"
            },
            "successfully_exported": {
              "description": "Successfully exported items",
              "title": "Successfully Exported",
              "type": "integer"
            },
            "failed_exports": {
              "description": "Failed export count",
              "title": "Failed Exports",
              "type": "integer"
            },
            "total_paths_exported": {
              "description": "Total paths exported",
              "title": "Total Paths Exported",
              "type": "integer"
            },
            "export_completeness": {
              "description": "Export completeness status",
              "title": "Export Completeness",
              "type": "string"
            }
          },
          "required": [
            "total_requested",
            "successfully_exported",
            "failed_exports",
            "total_paths_exported",
            "export_completeness"
          ],
          "title": "ExportSummary",
          "type": "object"
        },
        "IdsInfo": {
          "description": "Information about an exported IDS.",
          "properties": {
            "ids_name": {
              "description": "IDS name",
              "title": "Ids Name",
              "type": "string"
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS description",
              "title": "Description"
            },
            "paths": {
              "description": "Paths in this IDS",
              "items": {
                "$ref": "#/$defs/IdsPath"
              },
              "title": "Paths",
              "type": "array"
            },
            "physics_domains": {
              "description": "Physics domains",
              "items": {
                "type": "string"
              },
              "title": "Physics Domains",
              "type": "array"
            },
            "measurement_types": {
              "description": "Measurement types",
              "items": {
                "type": "string"
              },
              "title": "Measurement Types",
              "type": "array"
            }
          },
          "required": [
            "ids_name"
          ],
          "title": "IdsInfo",
          "type": "object"
        },
        "IdsPath": {
          "description": "Information about an exported path.",
          "properties": {
            "path": {
              "description": "Full IMAS path",
              "title": "Path",
              "type": "string"
            },
            "documentation": {
              "description": "Path documentation",
              "title": "Documentation",
              "type": "string"
            },
            "physics_domain": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physics domain",
              "title": "Physics Domain"
            },
            "data_type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Data type",
              "title": "Data Type"
            },
            "units": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physical units",
              "title": "Units"
            }
          },
          "required": [
            "path",
            "documentation"
          ],
          "title": "IdsPath",
          "type": "object"
        },
        "SearchMode": {
          "description": "Enumeration of available search modes. Following search strategies are supported:\n- semantic: AI-powered semantic search using sentence transformers\n- lexical: Traditional full-text search using SQLite FTS5\n- hybrid: Combination of semantic and lexical search\n- auto: Automatically choose best mode based on query\nTo perform a full search use hybrid mode and increase Max Results to get all relevant results.",
          "enum": [
            "semantic",
            "lexical",
            "hybrid",
            "auto"
          ],
          "title": "SearchMode",
          "type": "string"
        },
        "SearchSuggestion": {
          "description": "A search suggestion with context.",
          "properties": {
            "suggestion": {
              "description": "The suggested search term or phrase",
              "title": "Suggestion",
              "type": "string"
            },
            "reason": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this suggestion is relevant",
              "title": "Reason"
            },
            "confidence": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Confidence score 0-1",
              "title": "Confidence"
            }
          },
          "required": [
            "suggestion"
          ],
          "title": "SearchSuggestion",
          "type": "object"
        },
        "ToolError": {
          "description": "Error response with suggestions, context, and fallback data.",
          "properties": {
            "search_mode": {
              "anyOf": [
                {
                  "$ref": "#/$defs/SearchMode"
                },
                {
                  "type": "null"
                }
              ],
              "default": "auto",
              "description": "Search mode to use"
            },
            "ids_filter": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "IDS filter to apply",
              "title": "Ids Filter"
            },
            "max_results": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Maximum results to return",
              "title": "Max Results"
            },
            "query": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Original user query",
              "title": "Query"
            },
            "ai_prompt": {
              "additionalProperties": {
                "type": "string"
              },
              "description": "AI prompts that were used",
              "title": "Ai Prompt",
              "type": "object"
            },
            "ai_response": {
              "additionalProperties": true,
              "description": "AI-generated responses",
              "title": "Ai Response",
              "type": "object"
            },
            "error": {
              "description": "Error message",
              "title": "Error",
              "type": "string"
            },
            "suggestions": {
              "description": "Suggested actions",
              "items": {
                "type": "string"
              },
              "title": "Suggestions",
              "type": "array"
            },
            "context": {
              "additionalProperties": true,
              "description": "Error context",
              "title": "Context",
              "type": "object"
            },
            "fallback_data": {
              "anyOf": [
                {
                  "additionalProperties": true,
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Optional fallback data when primary operation fails",
              "title": "Fallback Data"
            }
          },
          "required": [
            "error"
          ],
          "title": "ToolError",
          "type": "object"
        },
        "ToolSuggestion": {
          "description": "A tool suggestion with context.",
          "properties": {
            "tool_name": {
              "description": "Name of the suggested tool",
              "title": "Tool Name",
              "type": "string"
            },
            "description": {
              "description": "Description of what the tool does",
              "title": "Description",
              "type": "string"
            },
            "relevance": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Why this tool is relevant",
              "title": "Relevance"
            }
          },
          "required": [
            "tool_name",
            "description"
          ],
          "title": "ToolSuggestion",
          "type": "object"
        }
      },
      "properties": {
        "result": {
          "anyOf": [
            {
              "$ref": "#/$defs/DomainExport"
            },
            {
              "$ref": "#/$defs/ToolError"
            }
          ],
          "title": "Result"
        }
      },
      "required": [
        "result"
      ],
      "title": "_WrappedResult",
      "type": "object",
      "x-fastmcp-wrap-result": true
    },
    "annotations": null,
    "meta": {
      "_fastmcp": {
        "tags": []
      }
    }
  }
]